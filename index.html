<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>AR Memory Game - Gra PamiÄ™ciowa</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js@3.4.5/aframe/build/aframe-ar.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands"></script>
    <script src="game.js"></script>
</head>
<body>
    <div id="ui">
        <div id="level">Poziom: 1</div>
        <div id="score">Wynik: 0</div>
        <div id="status">Obserwuj sekwencjÄ™...</div>
        <div id="gesture-status">âœ‹ Gesty: Nieaktywne</div>
        <div id="combo">ğŸ”¥ Combo: 0</div>
    </div>
    
    <div id="gesture-legend">
        <div class="gesture-title">ğŸ”Š WYZWANIA DÅ¹WIÄ˜KOWE</div>
        <div class="gesture-item">
            <span class="gesture-icon">ğŸ‘</span>
            <span class="gesture-arrow">â†’</span>
            <span class="gesture-color sound1">ğŸµ DÅ¹WIÄ˜K WYSOKI</span>
        </div>
        <div class="gesture-item">
            <span class="gesture-icon">âœŒï¸</span>
            <span class="gesture-arrow">â†’</span>
            <span class="gesture-color sound2">ğŸ¶ DÅ¹WIÄ˜K NISKI</span>
        </div>
        <div class="gesture-info">SÅ‚uchaj i reaguj gestem!</div>
    </div>
    
    <!-- Panel wyzwania gestowego -->
    <div id="gesture-challenge" style="display:none;">
        <div class="challenge-title">âš¡ SZYBKA REAKCJA!</div>
        <div id="gesture-prompt" class="gesture-prompt"></div>
        <div class="challenge-timer" id="challenge-timer">10</div>
    </div>
    
    <!-- Efekt sukcesu -->
    <div id="gesture-success" style="display:none;">
        <div class="success-emoji">&#x1F929;</div>
        <div class="success-text">SUPER!</div>
        <div class="success-sparkles">
            <span class="sparkle">&#x2728;</span>
            <span class="sparkle">&#x2728;</span>
            <span class="sparkle">&#x2728;</span>
            <span class="sparkle">&#x2728;</span>
        </div>
    </div>
    
    <!-- Efekt poraÅ¼ki -->
    <div id="gesture-fail" style="display:none;">
        <div class="fail-emoji">&#x1F622;</div>
        <div class="fail-text">O NIE!</div>
    </div>
    
    <canvas id="gesture-canvas" style="display:none;"></canvas>
    
    <button id="toggleUI" class="toggle-ui-btn">ğŸ‘ï¸</button>
    
    <div id="controls">
        <button id="btnRed" class="color-btn red-btn" data-color="red">ğŸ”´<br>CZERWONY</button>
        <button id="btnGreen" class="color-btn green-btn" data-color="green">ğŸŸ¢<br>ZIELONY</button>
        <button id="btnBlue" class="color-btn blue-btn" data-color="blue">ğŸ”µ<br>NIEBIESKI</button>
    </div>
    
    <div id="gameOver">
        <h1>Gra skoÅ„czona!</h1>
        <p id="finalScore">OsiÄ…gniÄ™ty poziom: 1</p>
        <p id="finalPoints">Punkty: 0</p>
        <button id="restartBtn">Zagraj ponownie</button>
    </div>
    
    <div id="instructions">
        ğŸ§  Gra PamiÄ™ciowa AR<br>ZapamiÄ™taj sekwencjÄ™ bÅ‚yskÃ³w i kliknij/dotknij ekranu nad markerami!
    </div>

    <a-scene
        embedded
        arjs="sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3; trackingMethod: best;"
        vr-mode-ui="enabled: false"
        renderer="logarithmicDepthBuffer: true; precision: medium; antialias: false;"
        device-orientation-permission-ui="enabled: false"
        cursor="rayOrigin: mouse">
        
        <!-- Marker 1 - Czerwony -->
        <a-marker type="pattern" url="assets/marker.patt" id="marker1" emitevents="true">
            <a-plane
                id="clickable1"
                position="0 0.5 0"
                rotation="-90 0 0"
                width="1.5"
                height="1.5"
                color="red"
                opacity="0.01"
                class="clickable"
                data-color="red">
            </a-plane>
            
            <!-- Punkt Å›wiatÅ‚a -->
            <a-light type="point" color="#FF0000" intensity="0" position="0 0.5 0" id="light1"></a-light>
            
            <!-- GÅ‚Ã³wna kula z animacjÄ… -->
            <a-sphere
                id="sphere1"
                position="0 0.5 0"
                radius="0.4"
                color="#FF0000"
                data-color="red"
                metalness="0.5"
                roughness="0.2"
                animation="property: rotation; to: 0 360 0; dur: 3000; easing: linear; loop: true">
            </a-sphere>
            
            <!-- PierÅ›cieÅ„ wokÃ³Å‚ kuli -->
            <a-torus
                position="0 0.5 0"
                radius="0.5"
                radius-tubular="0.02"
                color="#FF6666"
                opacity="0.6"
                animation="property: rotation; to: 360 0 0; dur: 4000; easing: linear; loop: true">
            </a-torus>
            
            <!-- System czÄ…stek -->
            <a-entity id="particles1" position="0 0.5 0" 
                particle-system="preset: default; color: #FF0000,#FF6666,#FFCCCC; particleCount: 50; maxAge: 2; size: 0.1; velocityValue: 0 1 0; velocitySpread: 0.3 0.3 0.3; accelerationValue: 0 -0.5 0">
            </a-entity>
            
            <a-text 
                value="Czerwony" 
                align="center"
                position="0 1.2 0" 
                scale="0.4 0.4 0.4"
                color="#FFFFFF"
                animation="property: scale; to: 0.45 0.45 0.45; dir: alternate; dur: 1000; loop: true">
            </a-text>
        </a-marker>

        <!-- Marker 2 - Zielony -->
        <a-marker type="pattern" url="assets/markerApple.patt" id="marker2" emitevents="true">
            <a-plane
                id="clickable2"
                position="0 0.5 0"
                rotation="-90 0 0"
                width="1.5"
                height="1.5"
                color="green"
                opacity="0.01"
                class="clickable"
                data-color="green">
            </a-plane>
            
            <!-- Punkt Å›wiatÅ‚a -->
            <a-light type="point" color="#00FF00" intensity="0" position="0 0.5 0" id="light2"></a-light>
            
            <!-- GÅ‚Ã³wna kula z animacjÄ… -->
            <a-sphere
                id="sphere2"
                position="0 0.5 0"
                radius="0.4"
                color="#00FF00"
                data-color="green"
                metalness="0.5"
                roughness="0.2"
                animation="property: rotation; to: 0 360 0; dur: 3500; easing: linear; loop: true">
            </a-sphere>
            
            <!-- PierÅ›cieÅ„ wokÃ³Å‚ kuli -->
            <a-torus
                position="0 0.5 0"
                radius="0.5"
                radius-tubular="0.02"
                color="#66FF66"
                opacity="0.6"
                animation="property: rotation; to: 360 0 0; dur: 4500; easing: linear; loop: true">
            </a-torus>
            
            <!-- System czÄ…stek -->
            <a-entity id="particles2" position="0 0.5 0" 
                particle-system="preset: default; color: #00FF00,#66FF66,#CCFFCC; particleCount: 50; maxAge: 2; size: 0.1; velocityValue: 0 1 0; velocitySpread: 0.3 0.3 0.3; accelerationValue: 0 -0.5 0">
            </a-entity>
            
            <a-text 
                value="Zielony" 
                align="center" 
                position="0 1.2 0" 
                scale="0.4 0.4 0.4"
                color="#FFFFFF"
                animation="property: scale; to: 0.45 0.45 0.45; dir: alternate; dur: 1000; loop: true">
            </a-text>
        </a-marker>

        <!-- Marker 3 - Niebieski -->
        <a-marker type="pattern" url="assets/dot0.patt" id="marker3" emitevents="true">
            <a-plane
                id="clickable3"
                position="0 0.5 0"
                rotation="-90 0 0"
                width="1.5"
                height="1.5"
                color="blue"
                opacity="0.01"
                class="clickable"
                data-color="blue">
            </a-plane>
            
            <!-- Punkt Å›wiatÅ‚a -->
            <a-light type="point" color="#0000FF" intensity="0" position="0 0.5 0" id="light3"></a-light>
            
            <!-- GÅ‚Ã³wna kula z animacjÄ… -->
            <a-sphere
                id="sphere3"
                position="0 0.5 0"
                radius="0.4"
                color="#0000FF"
                data-color="blue"
                metalness="0.5"
                roughness="0.2"
                animation="property: rotation; to: 0 360 0; dur: 3200; easing: linear; loop: true">
            </a-sphere>
            
            <!-- PierÅ›cieÅ„ wokÃ³Å‚ kuli -->
            <a-torus
                position="0 0.5 0"
                radius="0.5"
                radius-tubular="0.02"
                color="#6666FF"
                opacity="0.6"
                animation="property: rotation; to: 360 0 0; dur: 4200; easing: linear; loop: true">
            </a-torus>
            
            <!-- System czÄ…stek -->
            <a-entity id="particles3" position="0 0.5 0" 
                particle-system="preset: default; color: #0000FF,#6666FF,#CCCCFF; particleCount: 50; maxAge: 2; size: 0.1; velocityValue: 0 1 0; velocitySpread: 0.3 0.3 0.3; accelerationValue: 0 -0.5 0">
            </a-entity>
            
            <a-text 
                value="Niebieski" 
                align="center" 
                position="0 1.2 0" 
                scale="0.4 0.4 0.4"
                color="#FFFFFF"
                animation="property: scale; to: 0.45 0.45 0.45; dir: alternate; dur: 1000; loop: true">
            </a-text>
        </a-marker>

        <a-entity light="type: ambient; intensity: 0.9;"></a-entity>
        <a-entity light="type: directional; intensity: 0.5;" position="1 1 1"></a-entity>

        <a-entity
            camera
            cursor="rayOrigin: mouse; fuse: false"
            raycaster="objects: .clickable">
        </a-entity>
    </a-scene>
</body>
</html>
